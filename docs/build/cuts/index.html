<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How cuts are represented in the code · LogLinearSDDP.jl</title><meta name="title" content="How cuts are represented in the code · LogLinearSDDP.jl"/><meta property="og:title" content="How cuts are represented in the code · LogLinearSDDP.jl"/><meta property="twitter:title" content="How cuts are represented in the code · LogLinearSDDP.jl"/><meta name="description" content="Documentation for LogLinearSDDP.jl."/><meta property="og:description" content="Documentation for LogLinearSDDP.jl."/><meta property="twitter:description" content="Documentation for LogLinearSDDP.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LogLinearSDDP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Code</span><ul><li><a class="tocitem" href="../model_assumptions/">Model assumptions</a></li><li><a class="tocitem" href="../uncertainty/">Modeling log-linear AR processes</a></li><li class="is-active"><a class="tocitem" href>How cuts are represented in the code</a></li><li><a class="tocitem" href="../params/">Further parameters</a></li><li><a class="tocitem" href="../algorithm/">Implementation of the loglinearSDDP algorithm</a></li><li><a class="tocitem" href="../usage/">How to use the code</a></li></ul></li><li><span class="tocitem">Hydrothermal Example</span><ul><li><a class="tocitem" href="../example/experiment_description/">Computational experiments for a hydrothermal scheduling problem</a></li><li><a class="tocitem" href="../example/setting_up_process/">Setting up the autoregressive processes</a></li><li><a class="tocitem" href="../example/model/">Defining the multistage problem</a></li><li><a class="tocitem" href="../example/running_the_model/">Running computations</a></li><li><a class="tocitem" href="../example/simulations/">Simulations</a></li><li><a class="tocitem" href="../example/markov/">Special remarks to MC-SDDP</a></li><li><a class="tocitem" href="../example/fitting_process/">Model fitting and data preparation</a></li><li><a class="tocitem" href="../example/logging/">Interpreting the logging results</a></li><li><a class="tocitem" href="../example/paper_results/">Results from our experiments</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Code</a></li><li class="is-active"><a href>How cuts are represented in the code</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How cuts are represented in the code</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ChrisFuelOR/LogLinearSDDP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ChrisFuelOR/LogLinearSDDP.jl/blob/main/docs/src/cuts.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="How-cuts-are-represented-in-the-code"><a class="docs-heading-anchor" href="#How-cuts-are-represented-in-the-code">How cuts are represented in the code</a><a id="How-cuts-are-represented-in-the-code-1"></a><a class="docs-heading-anchor-permalink" href="#How-cuts-are-represented-in-the-code" title="Permalink"></a></h1><p>As described in our paper, for any <span>$t = 2,\ldots,T$</span> and any incumbent <span>$(x_{t-1}, \xi_{[t-p:t-1]})$</span> cuts in loglinearSDDP can be expressed by formula</p><p class="math-container">\[\begin{equation}
\begin{aligned}
\mathcal{Q}_t(x_{t-1}, \xi_{[t-p:t-1]}) \geq \beta_{\bar{r} t}^\top x_{t-1} + \sum_{\tau = t}^T \sum_{\ell=1}^{L_\tau} \bigg( \alpha_{\bar{r} t \ell}^{(\tau)} \prod_{k=t-p}^{t-1} \prod_{m=1}^{L_k} \xi_{km}^{\Theta(t,\tau,\ell,m,k)} \bigg),
\end{aligned}
\end{equation}\]</p><p>with coefficients defined by</p><p class="math-container">\[\begin{equation}
\begin{aligned}
\beta_{\bar{r} tj}^\top &amp;:= - \big( \pi_{tj}^* \big)^\top T_{t-1}, \\
\alpha_{\bar{r} t \ell j}^{(t)} &amp;:= \pi_{t \ell j}^* e^{\gamma_{t \ell}} e^{\psi_{t \ell} \eta_{t \ell}^{(j)}}, \\
\alpha_{\bar{r} t \ell j}^{(\tau)} &amp;:= \Big( \sum_{r \in R_{t+1}} \rho^*_{rtj} \alpha_{r,t+1,\ell}^{(\tau)} \Big) \prod_{\nu=1}^{L_t} e^{\gamma_{t \nu} \Theta(t+1,\tau,\ell,\nu,t)} e^{\psi_{t \nu} \eta_{t \nu}^{(j)} \Theta(t+1,\tau,\ell,\nu,t)}, \\
&amp;\quad \tau = t+1,\ldots,T \\
\end{aligned}
\end{equation}\]</p><p>for <span>$t=2,\ldots,T, \ell = 1,\ldots,L_\tau$</span> and <span>$j=1,\ldots,q_t$</span>,</p><p class="math-container">\[\begin{equation}
\begin{aligned}
\beta_{\bar{r} t} := \sum_{j=1}^{q_t} p_{tj} \beta_{\bar{r} tj}, \quad \quad \alpha_{\bar{r} t \ell}^{(\tau)} := \sum_{j=1}^{q_t} p_{tj} \alpha_{\bar{r} t \ell j}^{(\tau)}, \quad \tau = t,\ldots,T,
\end{aligned}
\end{equation}\]</p><p>and</p><p class="math-container">\[\begin{equation}
\begin{aligned}
\Theta(t,t,\ell,m,k) &amp;:= \phi_{t \ell m}^{(t-k)} \\
\Theta(t,\tau,\ell,m,k) &amp;:= \begin{cases} \sum_{\nu=1}^{L_t} \big( \phi_{t \nu m}^{(t-k)} \Theta(t+1,\tau,\ell,\nu,t) \big) \\ \quad + \Theta(t+1,\tau,\ell,m,k), \quad &amp; \text{if } k \geq t-p+1 \\ \sum_{\nu=1}^{L_t} \big( \phi_{t \nu m}^{(p)} \Theta(t+1,\tau,\ell,\nu,t) \big), &amp; \text{if } k = t-p \end{cases} \\
\end{aligned}
\end{equation}\]</p><p>for <span>$t=2,\ldots,T$</span>, <span>$\tau = t+1,\ldots,T$</span>, <span>$k=t-p,\ldots,t-1$</span>, <span>$\ell=1,\ldots,L_{\tau}$</span> and <span>$m=1,\ldots,L_k$</span>. <span>$\bar{r}$</span> denotes the index of the new cut.</p><p>For detailed explanations of all the terms in (1)-(4) and how they are derived, we refer to our paper.</p><p>When a subproblem for a specific scenario is solved within loglinearSDDP, the cut intercepts of all existing cuts are adapted to said scenario by re-evaluating the second summand in (1) accordingly.</p><p>In the code, the required information to handle these types of cuts is stored in structs of type <code>Cut</code>, as known from SDDP.jl. However, the struct is adjusted to satisfy the special form of the cuts above.</p><pre><code class="language-julia hljs">using JuMP

mutable struct Cut
    coefficients::Dict{Symbol,Float64}
    deterministic_intercept::Float64
    stochastic_intercept_tight::Float64
    intercept_factors::Array{Float64,2}
    trial_state::Dict{Symbol,Float64}
    constraint_ref::Union{Nothing,JuMP.ConstraintRef}
    cut_intercept_variable::Union{Nothing,JuMP.VariableRef}
    non_dominated_count::Int64
    iteration::Int64
end</code></pre><p>Its fields are defined as follows: *	<code>coefficients</code>: This is the cut gradient vector <span>$\beta$</span>. It can be computed using the values of certain dual variables. *	<code>deterministic_intercept</code>: This value is used to account for the contribution of deterministic constraints to the intercept. Handling them as coupling constraints is unnecessary from a memory perspective, but not taking them into account leads to a wrong intercept overall. *	<code>stochastic_intercept_tight</code>: This is the value of the full intercept at the incumbent, i.e. where the cut is constructed and tight. This is merely used for checks and to compute other values. It may also be used for cut selection purposes in the future. *	<code>intercept_factors</code> is not a scalar intercept as in standard SDDP, but a matrix of intercept factors <span>$\alpha_{\bar{r} t \ell}^{(\tau)}$</span> for each <span>$\tau=t,\ldots,T$</span> and each component <span>$\ell$</span> of the process (see (3)). *	<code>trial state</code>; This is the incumbent where the cut is constructed. *	<code>cut_constraint</code>: This refers to the cut constraint in the JuMP model. *	<code>cut_intercept_variable</code>: This refers to an artificial variable in the JuMP model which is fixed to the cut intercept for a given, specific scenario. *	<code>non_dominated_count</code> is required for cut selection purposes. Cut selection is not supported yet but might be considered in the future. *	<code>iteration</code>: This value stores the iteration number in which the cut was constructed, which often coincides with index <span>$\bar{r}$</span> above. This is used for logging and analyses.</p><div class="admonition is-info" id="Remark-91ef9b3c089869f8"><header class="admonition-header">Remark<a class="admonition-anchor" href="#Remark-91ef9b3c089869f8" title="Permalink"></a></header><div class="admonition-body"><ol><li>The exponents in (4) only have to computed once as they do not change between cuts,</li></ol><p>scenarios and iterations.</p><ol><li>Once the <span>$\alpha$</span> factors in (2) and (3) are computed when a new cut is generated, they are fixed cut coefficients.</li><li>When cut intercepts are re-evaluated for a given scenario, then the scenario-specific factors</li></ol><p class="math-container">\[\prod_{k=t-p}^{t-1} \prod_{m=1}^{L_k} \xi_{km}^{\Theta(t,\tau,\ell,m,k)}\]</p><p>in (2) are the same for all cuts, so they only have to be re-evaluated once for all cuts. Only the factors <span>$\alpha_{\bar{r} t \ell}^{(\tau)}$</span> are specific to each cut.</p></div></div><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../uncertainty/">« Modeling log-linear AR processes</a><a class="docs-footer-nextpage" href="../params/">Further parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 18 February 2026 18:11">Wednesday 18 February 2026</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
