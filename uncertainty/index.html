<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Modeling log-linear AR processes · LogLinearSDDP.jl</title><meta name="title" content="Modeling log-linear AR processes · LogLinearSDDP.jl"/><meta property="og:title" content="Modeling log-linear AR processes · LogLinearSDDP.jl"/><meta property="twitter:title" content="Modeling log-linear AR processes · LogLinearSDDP.jl"/><meta name="description" content="Documentation for LogLinearSDDP.jl."/><meta property="og:description" content="Documentation for LogLinearSDDP.jl."/><meta property="twitter:description" content="Documentation for LogLinearSDDP.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LogLinearSDDP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Code</span><ul><li><a class="tocitem" href="../model_assumptions/">Model assumptions</a></li><li class="is-active"><a class="tocitem" href>Modeling log-linear AR processes</a><ul class="internal"><li><a class="tocitem" href="#AutoregressiveProcess"><span>AutoregressiveProcess</span></a></li><li><a class="tocitem" href="#AutoregressiveProcessStage"><span>AutoregressiveProcessStage</span></a></li></ul></li><li><a class="tocitem" href="../cuts/">How cuts are represented in the code</a></li><li><a class="tocitem" href="../params/">Further parameters</a></li><li><a class="tocitem" href="../algorithm/">Implementation of the loglinearSDDP algorithm</a></li><li><a class="tocitem" href="../usage/">How to use the code</a></li></ul></li><li><span class="tocitem">Hydrothermal Example</span><ul><li><a class="tocitem" href="../example/experiment_description/">Computational experiments</a></li><li><a class="tocitem" href="../example/setting_up_process/">Setting up the autoregressive processes</a></li><li><a class="tocitem" href="../example/model/">Defining the multistage problem</a></li><li><a class="tocitem" href="../example/running_the_model/">Running computations</a></li><li><a class="tocitem" href="../example/simulations/">Simulations</a></li><li><a class="tocitem" href="../example/markov/">Special remarks to MC-SDDP</a></li><li><a class="tocitem" href="../example/fitting_process/">Model fitting and data preparation</a></li><li><a class="tocitem" href="../example/logging/">Interpreting the logging results</a></li><li><a class="tocitem" href="../example/paper_results/">Results from our experiments</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Code</a></li><li class="is-active"><a href>Modeling log-linear AR processes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Modeling log-linear AR processes</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ChrisFuelOR/LogLinearSDDP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ChrisFuelOR/LogLinearSDDP.jl/blob/main/docs/src/uncertainty.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Modeling-log-linear-AR-processes"><a class="docs-heading-anchor" href="#Modeling-log-linear-AR-processes">Modeling log-linear AR processes</a><a id="Modeling-log-linear-AR-processes-1"></a><a class="docs-heading-anchor-permalink" href="#Modeling-log-linear-AR-processes" title="Permalink"></a></h1><p>The code is designed to deal with uncertainty in the RHS of the multistage problem that can be modeled by an autoregressive stochastic process that is described by formula</p><p class="math-container">\[\begin{equation}
\log(\xi_{t \ell}) = \gamma_{t \ell} + \sum_{k=1}^p \sum_{m=1}^{L_{t-k}} \phi^{(k)}_{t \ell m} \log(\xi_{t-k, m}) + \psi_{t \ell} \eta_{t \ell}.
\end{equation}\]</p><p>Here, <span>$\gamma, \phi$</span> and <span>$\psi$</span> are vectors and matrices of process coefficients that have to be estimated, <span>$p$</span> is the lag order and <span>$L$</span> is the dimension. We call these processes <strong>log-linear</strong> autoregressive processes, as they are linear functions in the natural logarithm of the process history.</p><p>In LogLinearSDDP.jl, the definition of the log-linear AR process for a given model can be provided by the user using the <code>AutoregressiveProcess</code> and <code>AutoregressiveProcessStage</code> structs (both are defined in the file <code>src/typedefs.jl</code>).</p><h2 id="AutoregressiveProcess"><a class="docs-heading-anchor" href="#AutoregressiveProcess">AutoregressiveProcess</a><a id="AutoregressiveProcess-1"></a><a class="docs-heading-anchor-permalink" href="#AutoregressiveProcess" title="Permalink"></a></h2><pre><code class="language-julia hljs">using LogLinearSDDP

struct AutoregressiveProcess
    dimension::Int64
    lag_order::Int64
    parameters::Dict{Int64,LogLinearSDDP.AutoregressiveProcessStage}
    history::Dict{Int64,Vector{Float64}}
    simplified::Bool
end</code></pre><p>This struct can be used to store some general information on the stochastic process and its required history (lagged values <span>$\xi_{t-k, m}$</span>).</p><p>The fields of <code>AutoregressiveProcess</code> are defined as follows:</p><ul><li><code>dimension</code>: Int64 which defines the dimension of the random process; denoted by <span>$L$</span> in the paper</li><li><code>lag_order</code>: Int64 which defines the lag order of the random process (same for each component and stage); denoted by <span>$p$</span> in the paper</li><li><code>parameters</code>: Dict containing the stage-specific data of the process. The key is the stage and the value is the actual data struct of type <code>AutoregressiveProcessStage</code>; one-dimensional with component <span>$t$</span></li><li><code>history</code>: Dict containing the historic values of the process (including stage 1). The key is the stage and the value is a vector of index <span>$ℓ$</span> (alternatively, a tuple could be used).</li><li><code>simplified</code>: If <code>True</code>, there are no dependencies between different process components (i.e. spatial dependencies). This allows to simplify some computations in our code. Referring to the paper, the process formula becomes</li></ul><p class="math-container">\[\begin{equation}
\log(\xi_{t \ell}) = \gamma_{t \ell} + \sum_{k=1}^p \phi^{(k)}_{t \ell} \log(\xi_{t-k, \ell}) + \psi_{t \ell} \eta_{t \ell}.
\end{equation}\]</p><div class="admonition is-info" id="Remarks-6eb98d25a1b31b5"><header class="admonition-header">Remarks<a class="admonition-anchor" href="#Remarks-6eb98d25a1b31b5" title="Permalink"></a></header><div class="admonition-body"><ol><li>We assume that the lag order <span>$p$</span> is the same for all stages and components. Otherwise the cut formulas become way more sophisticated (see paper). In practice, different components and stages may require different lag orders, for instance in SPAR models. If a stage-component combination requires less lags than globally defined, we can set the <code>ar_coefficients</code> for excessive lags to 1, so that they do not have any effect.</li><li>In contrast to the paper – for this code we also assume that the dimension <span>$L$</span> of the process is the same for all stages. This allows us to accelerate nested loops in the code with tools that do not  allow for indices to be dependent on each other. This is a very natural assumption in practice. For instance, in our hydrothermal scheduling example, we have the same number of reservoirs for each stage.</li><li>We assume the first-stage data to be deterministic. Therefore, it should be included in <code>history</code> instead of <code>parameters</code>.</li></ol></div></div><h2 id="AutoregressiveProcessStage"><a class="docs-heading-anchor" href="#AutoregressiveProcessStage">AutoregressiveProcessStage</a><a id="AutoregressiveProcessStage-1"></a><a class="docs-heading-anchor-permalink" href="#AutoregressiveProcessStage" title="Permalink"></a></h2><pre><code class="language-julia hljs">struct AutoregressiveProcessStage
    intercept::Vector{Float64}
    coefficients::Array{Float64,3}
    psi::Vector{Float64}
    eta::Vector{Any}
    probabilities::Vector{Float64}
end</code></pre><p>This struct can be used to store the specific parameters of the log-linear autoregressive process for a particular stage <span>$t$</span>. Note that parameters can be defined separately for each component <span>$\ell$</span> (componentwise process definition, see our paper).</p><p>The fields of <code>AutoregressiveProcess</code> are defined as follows:</p><ul><li><code>intercept</code>: Vector containing the intercepts of the process; one-dimensional with component <span>$\ell$</span>; denoted by <span>$\gamma$</span> in the paper</li><li><code>coefficients</code>: Array containing the coefficients of the process; three-dimensional with components <span>$\ell$</span>, <span>$m$</span> and lag <span>$k$</span>; denoted by <span>$\phi$</span> in the paper</li><li><code>psi</code>: Vector containing the pre-factor for <span>$\eta$</span> in the process formula; one-dimensional with component <span>$\ell$</span>; denoted by <span>$\psi$</span> in the paper</li><li><code>eta</code>: Vector containing the stagewise independent realizations of the error term; denoted by <span>$\eta$</span> in the paper<ul><li>Note that this information is merely stored in the struct for logging purposes and for setting up the optimization problem, but is not used in the actual algorithm.</li><li>Each element of the vector should be a vector, tuple or named tuple of size <span>$\ell$</span> in order to store values for different process components. This requirement is standard for SDDP.jl as well.</li></ul></li><li><code>probabilities</code>: Probabilities related to <span>$\eta$</span> (optional); note that this information is merely stored in the struct for logging purposes</li></ul><p>We provide an example on how to set up a specific log-linear AR process for the hydrothermal scheduling problem from our paper on a different <a href="../example/setting_up_process/">page</a>.</p><div class="admonition is-info" id="Remark-944494f28c1b02aa"><header class="admonition-header">Remark<a class="admonition-anchor" href="#Remark-944494f28c1b02aa" title="Permalink"></a></header><div class="admonition-body"><p>Note that similar structs (<code>LinearAutoregressiveProcessStage</code> and <code>LinearAutoregressiveProcess</code>) are also defined in file <code>set_up_ar_process.jl</code> for our hydrothermal scheduling problem when using linearized AR processes instead of log-linear AR processes.</p></div></div><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../model_assumptions/">« Model assumptions</a><a class="docs-footer-nextpage" href="../cuts/">How cuts are represented in the code »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 18 February 2026 20:32">Wednesday 18 February 2026</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
